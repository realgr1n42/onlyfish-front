"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[28101],{127546:function(t,e,n){n.d(e,{B:function(){return c},J:function(){return o}});var s=n(317412),i=n(292220),a=n(483741),r=n(586641);function o(t,e){!0===e.debug&&(i.T?s.vF.enable():(0,s.pq)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));const n=undefined;(0,a.o5)().update(e.initialScope);const r=new t(e);c(r),d(r)}function c(t){const e=undefined,n=(0,r.BF)().getStackTop();n.client=t,n.scope.setClient(t)}function d(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}},581869:function(t,e,n){n.d(e,{E1:function(){return o},JD:function(){return r},i_:function(){return s},sy:function(){return i},uT:function(){return a}});const s="sentry.source",i="sentry.sample_rate",a="sentry.op",r="sentry.origin",o="profile_id"},407058:function(t,e,n){n.d(e,{Vu:function(){return c},fj:function(){return r},qO:function(){return o}});var s=n(289297),i=n(306936),a=n(268411);function r(t){const e=(0,s.zf)(),n={sid:(0,i.eJ)(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>d(n)};return t&&o(n,t),n}function o(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,s.zf)(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,i.eJ)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function c(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),o(t,n)}function d(t){return(0,a.Ce)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}},574744:function(t,e,n){n.d(e,{l:function(){return a}});var s=n(260831),i=n(728880);function a(t,e){const n={sent_at:(new Date).toISOString()};e&&(n.dsn=(0,s.SB)(e));const a=t.map(r);return(0,i.h4)(n,a)}function r(t){const e=undefined;return[{type:"span"},t]}},475452:function(t,e,n){n.d(e,{k:function(){return d},l:function(){return c}});var s=n(268411),i=n(92967),a=n(483741),r=n(834636),o=n(503445);function c(t,e,n){const a=e.getOptions(),{publicKey:r}=e.getDsn()||{},{segment:o}=n&&n.getUser()||{},c=(0,s.Ce)({environment:a.environment||i.U,release:a.release,user_segment:o,public_key:r,trace_id:t});return e.emit&&e.emit("createDsc",c),c}function d(t){const e=(0,a.KU)();if(!e)return{};const n=c((0,o.et)(t).trace_id||"",e,(0,a.o5)()),s=(0,r.z)(t);if(!s)return n;const i=s&&s._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:d,source:u}=s.metadata;null!=d&&(n.sample_rate=`${d}`);const h=(0,o.et)(s);return u&&"url"!==u&&(n.transaction=h.description),n.sampled=String((0,o.pK)(s)),e.emit&&e.emit("createDsc",n),n}},366184:function(t,e,n){n.d(e,{U:function(){return S},p:function(){return T}});var s=n(317412),i=n(292220),a=n(586641),r=n(503445),o=n(369677),c=n(522853),d=n(667998);let u=!1;function h(){u||(u=!0,(0,o.L)(p),(0,c.r)(p))}function p(){const t=(0,d.Z7)();if(t){const e="internal_error";i.T&&s.vF.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}p.tag="sentry_tracingErrorCallback";var m=n(786849),l=n(474662),_=n(347927);function f(){const t=undefined,e=this.getScope().getSpan();return e?{"sentry-trace":(0,r.Qh)(e)}:{}}function g(t,e){const n=this.getClient(),a=n&&n.getOptions()||{},r=a.instrumenter||"sentry",o=t.instrumenter||"sentry";r!==o&&(i.T&&s.vF.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let c=new _.Z(t,this);return c=(0,l.T)(c,a,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),c.isRecording()&&c.initSpanRecorder(a._experiments&&a._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",c),c}function T(t,e,n,s,i,a,r,o=!1){const c=t.getClient(),d=c&&c.getOptions()||{};let u=new m.zX(e,t,n,s,r,i,o);return u=(0,l.T)(u,d,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...a}),u.isRecording()&&u.initSpanRecorder(d._experiments&&d._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function S(){const t=(0,a.EU)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=g),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=f),h())}},786849:function(t,e,n){n.d(e,{Cq:function(){return d},zX:function(){return m}});var s=n(317412),i=n(289297),a=n(292220),r=n(503445),o=n(15527),c=n(347927);const d={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},u="finishReason",h=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class p extends o.l{constructor(t,e,n,s){super(s),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const e=t.end;t.end=(...n)=>(this._popActivity(t.spanContext().spanId),e.apply(t,n)),void 0===(0,r.et)(t).timestamp&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class m extends c.Z{constructor(t,e,n=d.idleTimeout,i=d.finalTimeout,r=d.heartbeatInterval,o=!1,c=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=r,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=h[4],this._autoFinishAllowed=!c,o&&(a.T&&s.vF.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),e.getScope().setSpan(this)),c||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=h[3],this.end())}),this._finalTimeout)}end(t){const e=(0,r.cI)(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute(u,this._finishReason),this.spanRecorder){a.T&&s.vF.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanContext().spanId===this.spanContext().spanId)return!0;(0,r.et)(t).timestamp||(t.setStatus("cancelled"),t.end(e),a.T&&s.vF.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const{start_timestamp:n,timestamp:i}=(0,r.et)(t),o=n&&n<e,c=(this._finalTimeout+this._idleTimeout)/1e3,d=i&&n&&i-n<c;if(a.T){const e=JSON.stringify(t,void 0,2);o?d||s.vF.log("[Tracing] discarding Span since it finished after Transaction final timeout",e):s.vF.log("[Tracing] discarding Span since it happened after Transaction was finished",e)}return o&&d})),a.T&&s.vF.log("[Tracing] flushing IdleTransaction")}else a.T&&s.vF.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new p(e,n,this.spanContext().spanId,t),a.T&&s.vF.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=h[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(a.T&&s.vF.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=h[1],this.end(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),a.T&&s.vF.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,a.T&&s.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(a.T&&s.vF.log(`[Tracing] popActivity ${t}`),delete this.activities[t],a.T&&s.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,i.zf)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=h[5],this.end(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(a.T&&s.vF.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=h[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){a.T&&s.vF.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}},221939:function(t,e,n){n.d(e,{X:function(){return i}});var s=n(667998);function i(t,e,n){const i=(0,s.Z7)();i&&i.setMeasurement(t,e,n)}},474662:function(t,e,n){n.d(e,{T:function(){return d},v:function(){return u}});var s=n(317412),i=n(973816),a=n(292220),r=n(581869),o=n(973551),c=n(503445);function d(t,e,n){if(!(0,o.w)(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setAttribute(r.sy,Number(t.sampled)),t;let i;return"function"==typeof e.tracesSampler?(i=e.tracesSampler(n),t.setAttribute(r.sy,Number(i))):void 0!==n.parentSampled?i=n.parentSampled:void 0!==e.tracesSampleRate?(i=e.tracesSampleRate,t.setAttribute(r.sy,Number(i))):(i=1,t.setAttribute(r.sy,i)),u(i)?i?(t.sampled=Math.random()<i,t.sampled?(a.T&&s.vF.log(`[Tracing] starting ${t.op} transaction - ${(0,c.et)(t).description}`),t):(a.T&&s.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(a.T&&s.vF.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(a.T&&s.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function u(t){return(0,i.yr)(t)||"number"!=typeof t&&"boolean"!=typeof t?(a.T&&s.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):!(t<0||t>1)||(a.T&&s.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1)}},15527:function(t,e,n){n.d(e,{L:function(){return l},l:function(){return m}});var s=n(306936),i=n(289297),a=n(317412),r=n(268411),o=n(292220),c=n(100131),d=n(581869),u=n(834636),h=n(503445),p=n(823317);class m{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class l{constructor(t={}){this._traceId=t.traceId||(0,s.eJ)(),this._spanId=t.spanId||(0,s.eJ)().substring(16),this._startTime=t.startTimestamp||(0,i.zf)(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[d.JD]:t.origin||"manual",[d.uT]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),void 0!==t.exclusiveTime&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[d.uT]}set op(t){this.setAttribute(d.uT,t)}get origin(){return this._attributes[d.JD]}set origin(t){this.setAttribute(d.JD,t)}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?h.aO:h.CC}}startChild(t){const e=new l({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e);const n=(0,u.z)(this);if(e.transaction=n,o.T&&n){const s=undefined,i=undefined,r=undefined,o=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${(0,h.et)(e).description||"< unknown name >"}' (${n.spanContext().spanId}).`;a.vF.log(o),this._logMessage=o}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setAttribute(t,e){void 0===e?delete this._attributes[t]:this._attributes[t]=e}setAttributes(t){Object.keys(t).forEach((e=>this.setAttribute(e,t[e])))}setStatus(t){return this._status=t,this}setHttpStatus(t){return(0,p.N8)(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return"ok"===this._status}finish(t){return this.end(t)}end(t){if(this._endTime)return;const e=(0,u.z)(this);if(o.T&&e&&e.spanContext().spanId!==this._spanId){const t=this._logMessage;t&&a.vF.log(t.replace("Starting","Finishing"))}this._endTime=(0,h.cI)(t)}toTraceparent(){return(0,h.Qh)(this)}toContext(){return(0,r.Ce)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return(0,h.kX)(this)}getSpanJSON(){return(0,r.Ce)({data:this._getData(),description:this._name,op:this._attributes[d.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[d.JD],_metrics_summary:(0,c.g)(this),profile_id:this._attributes[d.E1],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:e}=this,n=Object.keys(t).length>0,s=Object.keys(e).length>0;if(n||s)return n&&s?{...t,...e}:n?t:e}}},823317:function(t,e,n){var s;function i(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}n.d(e,{AJ:function(){return i},N8:function(){return r},o6:function(){return a}}),function(t){const e="ok";t.Ok=e;const n="deadline_exceeded";t.DeadlineExceeded=n;const s="unauthenticated";t.Unauthenticated=s;const i="permission_denied";t.PermissionDenied=i;const a="not_found";t.NotFound=a;const r="resource_exhausted";t.ResourceExhausted=r;const o="invalid_argument";t.InvalidArgument=o;const c="unimplemented";t.Unimplemented=c;const d="unavailable";t.Unavailable=d;const u="internal_error";t.InternalError=u;const h="unknown_error";t.UnknownError=h;const p="cancelled";t.Cancelled=p;const m="already_exists";t.AlreadyExists=m;const l="failed_precondition";t.FailedPrecondition=l;const _="aborted";t.Aborted=_;const f="out_of_range";t.OutOfRange=f;const g="data_loss";t.DataLoss=g}(s||(s={}));const a=i;function r(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=i(e);"unknown_error"!==n&&t.setStatus(n)}},116954:function(t,e,n){n.d(e,{Bk:function(){return T},Lb:function(){return C},Lk:function(){return l},Uk:function(){return g},V4:function(){return S},nV:function(){return f},uP:function(){return m}});var s=n(626524),i=n(317412),a=n(268411),r=n(292220),o=n(586641),c=n(503445),d=n(475452),u=n(483741),h=n(374640),p=n(973551);function m(t,e,n=()=>{},s=()=>{}){const i=(0,o.BF)(),a=(0,u.o5)(),r=a.getSpan(),c=v(t),d=b(i,{parentSpan:r,spanContext:c,forceTransaction:!1,scope:a});return a.setSpan(d),(0,h.x)((()=>e(d)),(t=>{d&&d.setStatus("internal_error"),n(t,d)}),(()=>{d&&d.end(),a.setSpan(r),s()}))}function l(t,e){const n=v(t);return(0,o.fx)((()=>(0,u.v4)(t.scope,(s=>{const i=(0,o.BF)(),a=s.getSpan(),r=undefined,d=t.onlyIfParent&&!a?void 0:b(i,{parentSpan:a,spanContext:n,forceTransaction:t.forceTransaction,scope:s});return(0,h.x)((()=>e(d)),(()=>{if(d){const{status:t}=(0,c.et)(d);t&&"ok"!==t||d.setStatus("internal_error")}}),(()=>d&&d.end()))}))))}const _=null;function f(t,e){const n=v(t);return(0,o.fx)((()=>(0,u.v4)(t.scope,(s=>{const i=(0,o.BF)(),a=s.getSpan(),r=undefined,d=t.onlyIfParent&&!a?void 0:b(i,{parentSpan:a,spanContext:n,forceTransaction:t.forceTransaction,scope:s});function u(){d&&d.end()}return(0,h.x)((()=>e(d,u)),(()=>{if(d&&d.isRecording()){const{status:t}=(0,c.et)(d);t&&"ok"!==t||d.setStatus("internal_error")}}))}))))}function g(t){if(!(0,p.w)())return;const e=v(t),n=(0,o.BF)(),s=t.scope?t.scope.getSpan():T(),i=undefined;if(t.onlyIfParent&&!s)return;const a=undefined,r=(t.scope||(0,u.o5)()).clone();return b(n,{parentSpan:s,spanContext:e,forceTransaction:t.forceTransaction,scope:r})}function T(){return(0,u.o5)().getSpan()}const S=({sentryTrace:t,baggage:e},n)=>{const c=(0,u.o5)(),{traceparentData:d,dynamicSamplingContext:h,propagationContext:p}=(0,s.E0)(t,e);c.setPropagationContext(p),r.T&&d&&i.vF.log(`[Tracing] Continuing trace ${d.traceId}.`);const m={...d,metadata:(0,a.Ce)({dynamicSamplingContext:h})};return n?(0,o.fx)((()=>n(m))):m};function b(t,{parentSpan:e,spanContext:n,forceTransaction:s,scope:i}){if(!(0,p.w)())return;const a=(0,o.rm)();let r;if(e&&!s)r=e.startChild(n);else if(e){const s=(0,d.k)(e),{traceId:i,spanId:a}=e.spanContext(),o=(0,c.pK)(e);r=t.startTransaction({traceId:i,parentSpanId:a,parentSampled:o,...n,metadata:{dynamicSamplingContext:s,...n.metadata}})}else{const{traceId:e,dsc:s,parentSpanId:o,sampled:c}={...a.getPropagationContext(),...i.getPropagationContext()};r=t.startTransaction({traceId:e,parentSpanId:o,parentSampled:c,...n,metadata:{dynamicSamplingContext:s,...n.metadata}})}return i.setSpan(r),x(r,i,a),r}function v(t){if(t.startTime){const e={...t};return e.startTimestamp=(0,c.cI)(t.startTime),delete e.startTime,e}return t}const I="_sentryScope",y="_sentryIsolationScope";function x(t,e,n){t&&((0,a.my)(t,y,n),(0,a.my)(t,I,e))}function C(t){return{scope:t[I],isolationScope:t[y]}}},347927:function(t,e,n){n.d(e,{Z:function(){return m}});var s=n(268411),i=n(317412),a=n(292220),r=n(586641),o=n(100131),c=n(581869),d=n(503445),u=n(475452),h=n(15527),p=n(116954);class m extends h.L{constructor(t,e){super(t),this._contexts={},this._hub=e||(0,r.BF)(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[c.i_]&&{source:this._attributes[c.i_]},...this._attributes[c.sy]&&{sampleRate:this._attributes[c.sy]}}}set metadata(t){this._metadata=t}setName(t,e="custom"){this._name=t,this.setAttribute(c.i_,e)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new h.l(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const e=(0,d.cI)(t),n=this._finishTransaction(e);if(n)return this._hub.captureEvent(n)}toContext(){const t=super.toContext();return(0,s.Ce)({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return(0,u.k)(this)}setHub(t){this._hub=t}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(t){if(void 0!==this._endTime)return;this._name||(a.T&&i.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this._sampled)return a.T&&i.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&(0,d.et)(t).timestamp)):[];if(this._trimEnd&&n.length>0){const t=n.map((t=>(0,d.et)(t).timestamp)).filter(Boolean);this._endTime=t.reduce(((t,e)=>t>e?t:e))}const{scope:r,isolationScope:c}=(0,p.Lb)(this),{metadata:h}=this,{source:m}=h,l={contexts:{...this._contexts,trace:(0,d.kX)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...h,capturedSpanScope:r,capturedSpanIsolationScope:c,...(0,s.Ce)({dynamicSamplingContext:(0,u.k)(this)})},_metrics_summary:(0,o.g)(this),...m&&{transaction_info:{source:m}}},_=undefined;return Object.keys(this._measurements).length>0&&(a.T&&i.vF.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),a.T&&i.vF.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}},667998:function(t,e,n){n.d(e,{Z7:function(){return a},nc:function(){return r}});var s=n(626524),i=n(586641);function a(t){const e=undefined,n=undefined;return(t||(0,i.BF)()).getScope().getTransaction()}const r=s.nc}}]);